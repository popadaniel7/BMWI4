#include "tim.h"
#include "CenLoc.h"
#include "stdio.h"
#include "string.h"
#include "stdlib.h"
#include "ExtLights.h"
#include "IntLights.h"
#include "SecAlm.h"
#include "Std_Types.h"
#include "usart.h"
#include "gpio.h"

uint8 CurrentState_IntLights;
uint8 BtcIntLights;

void IntLightsMainFunction();
StdReturnType IntLightsInit();
void IntLightsToggleIntLights(uint8 PinState);
void IntLightsRxBtcState();

void IntLightsRxBtcState()
{

	if(BtcIntLights == STD_HIGH)
	{
		CurrentState_IntLights = BtcIntLights;
	}
	else if(BtcIntLights == STD_LOW)
	{
		CurrentState_IntLights = BtcIntLights;
	}
	else
	{
		/* do nothing */
	}

}

void IntLightsMainFunction()
{

	IntLightsToggleIntLights(CurrentState_IntLights);

}

StdReturnType IntLightsInit()
{
	CurrentState_IntLights 	= STD_LOW;
	BtcIntLights 			= STD_LOW;

	return E_OK;
}

void IntLightsToggleIntLights(uint8 PinState)
{
	HAL_GPIO_WritePin(INTERIOR_LIGHT_PORT, INTERIOR_LIGHT_PIN, PinState);
}
