/*****************************************
* Project: BCM I4						 *
* Developer: Daniel Popa				 *
* Module: Controller Area Network	     *
******************************************/

/*****************************************
*		INCLUDE PATHS					 *
******************************************/
#include "Can.h"
#include "CanSpi.h"
/*****************************************
*		END OF INCLUDE PATHS		     *
******************************************/
/*****************************************
*		DEFINES					 		 *
******************************************/
/*****************************************
* 		END OF DEFINES					 *
******************************************/
/*****************************************
*		VARIABLES					 	 *
******************************************/

/*****************************************
*		END OF VARIABLES				 *
******************************************/
/*****************************************
*		FUNCTIONS				 		 *
******************************************/
/* Protocol initialization. */
VOID Can_Init();
/* Protocol de-initialization. */
VOID Can_DeInit();
/* Protocol main function. */
VOID Can_MainFunction();
/* Protocol set mask. */
VOID Can_InitMask(uint8 MaskNumber, uint8 MaskIdType, uint32 MaskId);
/* Protocol set filter. */
VOID Can_InitFilter(uint8 FilterNumber, uint8 FilterIdType, uint32 FilterId);
/* Protocol bus state. */
StdReturnType Can_BusState();
/* Protocol error and status. */
StdReturnType Can_GetErrorStatus();
/* Check for remaining messages. */
StdReturnType Can_MessagePending();
/* Transmit messages. */
StdReturnType Can_Transmit(Can_Message CanMsg);
/* Receive messages. */
StdReturnType Can_Receive(Can_Message CanMsg);
/*****************************************
*		END OF FUNCTIONS				 *
******************************************/
/***********************************************************************************
* Function: Btc_MemRead													   		   *
* Description: Read from meory.		 	   										   *
************************************************************************************/
VOID Can_Init()
{
	CanOverSpi_Init();
}
/***********************************************************************************
* END OF Btc_MemWrite											  			       *													       																	   *
************************************************************************************/
/***********************************************************************************
* Function: Btc_MemRead													   		   *
* Description: Read from meory.		 	   										   *
************************************************************************************/
VOID Can_DeInit()
{
	MCP2515_CanOverSpi_SetConfigMode();
	MCP2515_CanOverSpi_Reset();
}
/***********************************************************************************
* END OF Btc_MemWrite											  			       *													       																	   *
************************************************************************************/
/***********************************************************************************
* Function: Btc_MemRead													   		   *
* Description: Read from meory.		 	   										   *
************************************************************************************/
VOID Can_InitMask(uint8 MaskNumber, uint8 MaskIdType, uint32 MaskId)
{
	CanOverSpi_Init_Mask(MaskNumber, MaskIdType, MaskId);
}
/***********************************************************************************
* END OF Btc_MemWrite											  			       *													       																	   *
************************************************************************************/
/***********************************************************************************
* Function: Btc_MemRead													   		   *
* Description: Read from meory.		 	   										   *
************************************************************************************/
VOID Can_InitFilter(uint8 FilterNumber, uint8 FilterIdType, uint32 FilterId)
{
	CanOverSpi_Init_Filter(FilterNumber, FilterIdType, FilterId);
}
/***********************************************************************************
* END OF Btc_MemWrite											  			       *													       																	   *
************************************************************************************/
/***********************************************************************************
* Function: Btc_MemRead													   		   *
* Description: Read from meory.		 	   										   *
************************************************************************************/
VOID Can_MainFunction()
{

}
/***********************************************************************************
* END OF Btc_MemWrite											  			       *													       																	   *
************************************************************************************/
/***********************************************************************************
* Function: Btc_MemRead													   		   *
* Description: Read from meory.		 	   										   *
************************************************************************************/
StdReturnType Can_BusState()
{
	return CanOverSpi_isBussOff();
}
/***********************************************************************************
* END OF Btc_MemWrite											  			       *													       																	   *
************************************************************************************/
/***********************************************************************************
* Function: Btc_MemRead													   		   *
* Description: Read from meory.		 	   										   *
************************************************************************************/
StdReturnType Can_GetErrorStatus()
{
	return E_OK;
}
/***********************************************************************************
* END OF Btc_MemWrite											  			       *													       																	   *
************************************************************************************/
/***********************************************************************************
* Function: Btc_MemRead													   		   *
* Description: Read from meory.		 	   										   *
************************************************************************************/
StdReturnType Can_MessagePending()
{
	return CanOverSpi_messagesInBuffer();
}
/***********************************************************************************
* END OF Btc_MemWrite											  			       *													       																	   *
************************************************************************************/
/***********************************************************************************
* Function: Btc_MemRead													   		   *
* Description: Read from meory.		 	   										   *
************************************************************************************/
StdReturnType Can_Transmit(Can_Message CanMsg)
{
	CanOverSpi_Transmit((uCAN_MSG*)&CanMsg);
	return E_OK;
}
/***********************************************************************************
* END OF Btc_MemWrite											  			       *													       																	   *
************************************************************************************/
/***********************************************************************************
* Function: Btc_MemRead													   		   *
* Description: Read from meory.		 	   										   *
************************************************************************************/
StdReturnType Can_Receive(Can_Message CanMsg)
{
	CanOverSpi_Receive((uCAN_MSG*)&CanMsg);
	return E_OK;
}
/***********************************************************************************
* END OF Btc_MemWrite											  			       *													       																	   *
************************************************************************************/
